   Compiling multi-tier-cache v0.5.4 (/home/tchuong/Màn hình nền/multi-tier-cache)
warning: unused variable: `cache`
  --> tests/common/mod.rs:57:9
   |
57 |     let cache = setup_cache_system().await?;
   |         ^^^^^ help: if this is intentional, prefix it with an underscore: `_cache`
   |
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: function `test_key_prefix` is never used
  --> tests/common/mod.rs:19:8
   |
19 | pub fn test_key_prefix() -> String {
   |        ^^^^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: function `setup_cache_with_invalidation` is never used
  --> tests/common/mod.rs:40:14
   |
40 | pub async fn setup_cache_with_invalidation() -> Result<Arc<CacheManager>> {
   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `cleanup_test_keys` is never used
  --> tests/common/mod.rs:56:14
   |
56 | pub async fn cleanup_test_keys(prefix: &str) -> Result<()> {
   |              ^^^^^^^^^^^^^^^^^

warning: function `wait_for` is never used
   --> tests/common/mod.rs:133:14
    |
133 | pub async fn wait_for<F>(mut condition: F, timeout_ms: u64) -> bool
    |              ^^^^^^^^

warning: struct `Product` is never constructed
  --> tests/common/mod.rs:94:16
   |
94 |     pub struct Product {
   |                ^^^^^^^

warning: associated function `new` is never used
   --> tests/common/mod.rs:102:16
    |
101 |     impl Product {
    |     ------------ associated function in this implementation
102 |         pub fn new(id: u64) -> Self {
    |                ^^^

warning: function `json_user` is never used
   --> tests/common/mod.rs:113:12
    |
113 |     pub fn json_user(id: u64) -> serde_json::Value {
    |            ^^^^^^^^^

warning: function `json_data_sized` is never used
   --> tests/common/mod.rs:123:12
    |
123 |     pub fn json_data_sized(size_kb: usize) -> serde_json::Value {
    |            ^^^^^^^^^^^^^^^

warning: function `setup_cache_system` is never used
  --> tests/common/mod.rs:34:14
   |
34 | pub async fn setup_cache_system() -> Result<CacheSystem> {
   |              ^^^^^^^^^^^^^^^^^^

warning: `multi-tier-cache` (test "integration_streams") generated 9 warnings
warning: `multi-tier-cache` (test "integration_invalidation") generated 8 warnings (7 duplicates)
warning: unused import: `CacheManagerStats`
 --> tests/integration_basic.rs:8:39
  |
8 | use multi_tier_cache::{CacheStrategy, CacheManagerStats};
  |                                       ^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `TierConfig`
 --> examples/multi_tier_usage.rs:8:55
  |
8 |     CacheSystemBuilder, CacheBackend, L2CacheBackend, TierConfig, async_trait
  |                                                       ^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

error[E0432]: unresolved import `tracing_subscriber::EnvFilter`
   --> examples/tracing_demo.rs:2:5
    |
  2 | use tracing_subscriber::EnvFilter;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ no `EnvFilter` in the root
    |
note: found an item that was configured out
   --> /home/tchuong/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-subscriber-0.3.20/src/lib.rs:235:21
    |
234 |     #![all(feature = "env-filter", feature = "std")]
    |            ---------------------- the item is gated behind the `env-filter` feature
235 |     pub use filter::EnvFilter;
    |                     ^^^^^^^^^

error[E0599]: no method named `with_env_filter` found for struct `SubscriberBuilder<N, E, F, W>` in the current scope
 --> examples/tracing_demo.rs:8:10
  |
7 | /     tracing_subscriber::fmt()
8 | |         .with_env_filter(EnvFilter::from_default_env().add_directive(tracing::Level::DEBUG.into()))
  | |_________-^^^^^^^^^^^^^^^
  |
help: there is a method `with_file` with a similar name
  |
8 -         .with_env_filter(EnvFilter::from_default_env().add_directive(tracing::Level::DEBUG.into()))
8 +         .with_file(EnvFilter::from_default_env().add_directive(tracing::Level::DEBUG.into()))
  |

Some errors have detailed explanations: E0432, E0599.
For more information about an error, try `rustc --explain E0432`.
error: could not compile `multi-tier-cache` (example "tracing_demo") due to 2 previous errors
warning: build failed, waiting for other jobs to finish...
error[E0382]: borrow of moved value: `l3_backend`
   --> examples/multi_tier_usage.rs:162:18
    |
112 |     let l3_backend = Arc::new(MockL3Cache::new("Mock L3 (Disk)"));
    |         ---------- move occurs because `l3_backend` has type `Arc<MockL3Cache>`, which does not implement the `Copy` trait
...
118 |         .with_l3(l3_backend) // Add L3 tier (automatically configures as Tier 3)
    |                  ---------- value moved here
...
162 |     let l3_ref = l3_backend.as_ref(); 
    |                  ^^^^^^^^^^ value borrowed here after move
    |
help: clone the value to increment its reference count
    |
118 |         .with_l3(l3_backend.clone()) // Add L3 tier (automatically configures as Tier 3)
    |                            ++++++++

For more information about this error, try `rustc --explain E0382`.
warning: `multi-tier-cache` (example "multi_tier_usage") generated 1 warning
error: could not compile `multi-tier-cache` (example "multi_tier_usage") due to 1 previous error; 1 warning emitted
error[E0599]: no method named `remove` found for enum `std::option::Option<T>` in the current scope
  --> tests/integration_basic.rs:35:28
   |
35 |     let _ = cache.l2_cache.remove(&key).await;
   |                            ^^^^^^ method not found in `std::option::Option<Arc<RedisCache>>`

error[E0599]: no method named `remove` found for enum `std::option::Option<T>` in the current scope
  --> tests/integration_basic.rs:64:28
   |
64 |     let _ = cache.l2_cache.remove(&key).await;
   |                            ^^^^^^ method not found in `std::option::Option<Arc<RedisCache>>`

error[E0599]: no method named `remove` found for enum `std::option::Option<T>` in the current scope
  --> tests/integration_stampede.rs:52:28
   |
52 |     let _ = cache.l2_cache.remove(&key).await;
   |                            ^^^^^^ method not found in `std::option::Option<Arc<RedisCache>>`

error[E0599]: no method named `set_with_ttl` found for struct `Arc<RedisCache>` in the current scope
   --> tests/integration_multi_tier.rs:325:8
    |
325 |     l3.set_with_ttl(&key, data.clone(), std::time::Duration::from_secs(300))
    |        ^^^^^^^^^^^^
    |
    = help: items from traits can only be used if the trait is in scope
help: there is a method `get_with_ttl` with a similar name, but with different arguments
   --> /home/tchuong/Màn hình nền/multi-tier-cache/src/traits.rs:189:5
    |
189 | /     async fn get_with_ttl(
190 | |         &self,
191 | |         key: &str,
192 | |     ) -> Option<(serde_json::Value, Option<Duration>)>;
    | |_______________________________________________________^
help: trait `CacheBackend` which provides `set_with_ttl` is implemented but not in scope; perhaps you want to import it
    |
  3 + use multi_tier_cache::CacheBackend;
    |

error[E0599]: no method named `set_with_ttl` found for enum `std::option::Option<T>` in the current scope
  --> tests/integration_basic.rs:77:10
   |
75 | /     cache
76 | |         .l2_cache
77 | |         .set_with_ttl(&key, value.clone(), Duration::from_secs(300))
   | |         -^^^^^^^^^^^^ method not found in `std::option::Option<Arc<RedisCache>>`
   | |_________|
   |

error[E0599]: no method named `remove` found for enum `std::option::Option<T>` in the current scope
  --> tests/integration_stampede.rs:88:28
   |
88 |     let _ = cache.l2_cache.remove(&key).await;
   |                            ^^^^^^ method not found in `std::option::Option<Arc<RedisCache>>`

error[E0599]: no method named `get` found for struct `Arc<RedisCache>` in the current scope
   --> tests/integration_multi_tier.rs:365:22
    |
365 |     let l1_data = l1.get(&key).await;
    |                      ^^^ method not found in `Arc<RedisCache>`
    |
    = help: items from traits can only be used if the trait is in scope
help: trait `CacheBackend` which provides `get` is implemented but not in scope; perhaps you want to import it
    |
  3 + use multi_tier_cache::CacheBackend;
    |

error[E0599]: no method named `remove` found for enum `std::option::Option<T>` in the current scope
  --> tests/integration_basic.rs:94:28
   |
94 |     let _ = cache.l2_cache.remove(&key).await;
   |                            ^^^^^^ method not found in `std::option::Option<Arc<RedisCache>>`

error[E0599]: no method named `remove` found for enum `std::option::Option<T>` in the current scope
   --> tests/integration_stampede.rs:121:28
    |
121 |     let _ = cache.l2_cache.remove(&key).await;
    |                            ^^^^^^ method not found in `std::option::Option<Arc<RedisCache>>`

error[E0599]: no method named `remove` found for enum `std::option::Option<T>` in the current scope
   --> tests/integration_basic.rs:136:28
    |
136 |     let _ = cache.l2_cache.remove(&key).await;
    |                            ^^^^^^ method not found in `std::option::Option<Arc<RedisCache>>`

error[E0599]: no method named `remove` found for enum `std::option::Option<T>` in the current scope
   --> tests/integration_basic.rs:170:28
    |
170 |     let _ = cache.l2_cache.remove(&key).await;
    |                            ^^^^^^ method not found in `std::option::Option<Arc<RedisCache>>`

error[E0599]: no method named `remove` found for enum `std::option::Option<T>` in the current scope
   --> tests/integration_basic.rs:199:28
    |
199 |     let _ = cache.l2_cache.remove(&key).await;
    |                            ^^^^^^ method not found in `std::option::Option<Arc<RedisCache>>`

For more information about this error, try `rustc --explain E0599`.
error[E0599]: no method named `remove` found for enum `std::option::Option<T>` in the current scope
   --> tests/integration_basic.rs:229:28
    |
229 |     let _ = cache.l2_cache.remove(&key).await;
    |                            ^^^^^^ method not found in `std::option::Option<Arc<RedisCache>>`

warning: `multi-tier-cache` (test "integration_stampede") generated 1 warning (1 duplicate)
error: could not compile `multi-tier-cache` (test "integration_stampede") due to 3 previous errors; 1 warning emitted
error[E0599]: no method named `remove` found for enum `std::option::Option<T>` in the current scope
   --> tests/integration_basic.rs:273:32
    |
273 |         let _ = cache.l2_cache.remove(&key).await;
    |                                ^^^^^^ method not found in `std::option::Option<Arc<RedisCache>>`

warning: `multi-tier-cache` (test "integration_multi_tier") generated 1 warning (1 duplicate)
error: could not compile `multi-tier-cache` (test "integration_multi_tier") due to 2 previous errors; 1 warning emitted
warning: `multi-tier-cache` (test "integration_basic") generated 2 warnings (1 duplicate)
error: could not compile `multi-tier-cache` (test "integration_basic") due to 9 previous errors; 2 warnings emitted
